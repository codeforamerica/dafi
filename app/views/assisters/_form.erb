<% content = capture_form do |f| %>
  <%= f.cfa_input_field :name, "Name", classes: ["form-width--long"] %>
  <%= f.cfa_input_field :email, "Email Address", classes: ["form-width--long"] %>

  <% unless current_organization %>
    <%= f.cfa_select(:organization_id, "Organization", Organization.all.order(name: :asc).map { |org| [org.name, org.id] }, prompt: "Select Organization") %>
  <% end %>

  <%= f.cfa_select :supervisor, "Role and Permissions", [['Assister', false], ['Supervisor', true]], help_text: "Supervisors have additional permissions to manage assisters and application information." %>
<% end %>

<% footer = capture_form do |f| %>
  <%= f.cfa_button button_label %>
  <%= link_to "Cancel", current_organization ? organization_assisters_path(current_organization) : assisters_path %>
<% end %>

<%= render 'shared/form_card',
           form_resource: user,
           form_options: { url: { action: user.persisted? ? :update : :create } },
           title: title,
           content: content,
           footer: footer
%>
